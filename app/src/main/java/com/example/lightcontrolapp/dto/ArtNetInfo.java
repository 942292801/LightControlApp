package com.example.lightcontrolapp.dto;


import java.util.ArrayList;
import java.util.List;

import static com.example.lightcontrolapp.tools.CommonTools.hexToByteArray;

public class ArtNetInfo {
    public static String HEART_PACKET = "4172742d4e6574000050000ec50000000200";
    public static String BODY_PACKET = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    public static String OFF_PACKET  = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";
    public static String ON_PACKET   = "FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF";
    //public static String SET_PACKET  = "00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";

    //场景数组
    public static List<String> BODYSCENE= new ArrayList<>();

    //获取主控制参数
    public static byte[] getBodyOrder()
    {
        //SET_PACKET=BODY_PACKET;
        return hexToByteArray(HEART_PACKET + BODY_PACKET);
    }

    public static byte[] getAllOffOrder()
    {
        //SET_PACKET=OFF_PACKET;
        return hexToByteArray(HEART_PACKET + OFF_PACKET);
    }
    public static byte[] getAllOnOrder()
    {
        //SET_PACKET=ON_PACKET;
        return hexToByteArray(HEART_PACKET + ON_PACKET);
    }

    public static int getBodyPipe1(int num){
        double tmp =  Integer.valueOf(BODY_PACKET.substring(num*4,num*4+2),16);
        return (int)Math.floor(tmp/255*100);
    }

    public static int getBodyPipe2(int num){
        double tmp =  Integer.valueOf(BODY_PACKET.substring(num*4+2,num*4+4),16);
        return (int)Math.floor(tmp/255*3000);
    }


    //控制通道1  pipel 十进制0-255   num：灯的位置
    public static void BodyUpdatePipe1(int pipe1 ,int num){
        String tmp = String.format("%02x",pipe1);
        StringBuilder sb = new StringBuilder(ArtNetInfo.BODY_PACKET);
        sb.replace(num*4,num*4+2,tmp);
        BODY_PACKET = sb.toString();
    }

    //控制 通道2  num：灯的位置
    public static void BodyUpdatePipe2(int pipe2 ,int num){
        String tmp = String.format("%02x",pipe2);
        StringBuilder sb = new StringBuilder(ArtNetInfo.BODY_PACKET);
        sb.replace(num*4+2,num*4+4,tmp);
        BODY_PACKET = sb.toString();
    }

    //控制 通道1 2  num：灯的位置
    public static void BodyUpdateAll(int pipe1 ,int pipe2,int num){
        String tmp = String.format("%02x",pipe1) + String.format("%02x",pipe2);
        StringBuilder sb = new StringBuilder(ArtNetInfo.BODY_PACKET);
        sb.replace(num*4,num*4+4,tmp);
        BODY_PACKET = sb.toString();

    }



}
